<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>åœæ­¢å›å¾©ãƒ­ã‚°</title>

<style>
body{
font-family:system-ui;
text-align:center;
padding:24px;
background:#f7f8ff;
}

button{
margin:6px;
padding:12px 16px;
font-size:16px;
border-radius:14px;
border:none;
background:#dfe6ff;
}

#choices{
margin-top:20px;
max-width:420px;
margin-left:auto;
margin-right:auto;
}

.item{
background:white;
padding:12px;
border-radius:12px;
margin-bottom:8px;
box-shadow:0 2px 6px rgba(0,0,0,0.05);
cursor:pointer;
}

#log{
margin-top:28px;
max-width:420px;
margin-left:auto;
margin-right:auto;
text-align:left;
}

.logItem{
background:#fff;
padding:10px;
border-radius:12px;
margin-bottom:8px;
box-shadow:0 2px 6px rgba(0,0,0,0.05);
}

.clearBtn{
background:#ffdede;
}
</style>
</head>

<body>

<h2>ğŸŸ¡ åœæ­¢å›å¾©ãƒ­ã‚°</h2>

<!-- çŠ¶æ…‹ -->
<button onclick="showChoices('hp')">HPä½ä¸‹</button>
<button onclick="showChoices('loop')">æ€è€ƒãƒ«ãƒ¼ãƒ—</button>
<button onclick="showChoices('rum')">åèŠ»</button>
<button onclick="showChoices('over')">åˆºæ¿€éå¤š</button>
<button onclick="showChoices('anx')">ä¸å®‰ã®æ€è€ƒ</button>

<div id="choices"></div>

<button class="clearBtn" onclick="clearLog()">ãƒ­ã‚°å…¨æ¶ˆå»</button>

<div id="log"></div>

<script>

const data = {
hp:["æ°´ã‚’ä¸€å£é£²ã‚€","æ¨ªã«ãªã‚‹30ç§’","æ·±å‘¼å¸3å›"],
loop:["ä¼¸ã³ã‚‹","ãƒˆã‚¤ãƒ¬è¡Œã","çª“é–‹ã‘ã‚‹"],
rum:["ãƒ©ãƒ™ãƒ«æŠ¼ã™","ç”»é¢é–‰ã˜ã‚‹","5æ­©æ­©ã"],
over:["éŸ³ã‚ªãƒ•","æ˜ã‚‹ã•ä¸‹ã’ã‚‹","ç›®é–‰ã˜ã‚‹"],
anx:["äº‹å®Ÿ1å€‹è¨€ã†","ä½“æ„Ÿ1å€‹è¨€ã†","è‚©å›ã™"]
};

let currentType = "";

function showChoices(type){
currentType = type;
const list = data[type];

let html = "";
list.forEach(text=>{
html += `<div class="item" onclick="saveLog('${text}')">${text}</div>`;
});

document.getElementById("choices").innerHTML = html;
}

function saveLog(action){

const now = new Date();

const date =
now.getFullYear() + "/" +
(now.getMonth()+1) + "/" +
now.getDate();

const time =
String(now.getHours()).padStart(2,"0") + ":" +
String(now.getMinutes()).padStart(2,"0");

const text = `${date} ${time} â†’ ${action}`;

let logs = JSON.parse(localStorage.getItem("recoverLogs") || "[]");
logs.unshift(text);

localStorage.setItem("recoverLogs", JSON.stringify(logs));

renderLog();
}

function renderLog(){
let logs = JSON.parse(localStorage.getItem("recoverLogs") || "[]");

let html = "";
logs.forEach(l=>{
html += `<div class="logItem">${l}</div>`;
});

document.getElementById("log").innerHTML = html;
}

function clearLog(){
localStorage.removeItem("recoverLogs");
renderLog();
}

renderLog();

</script>

</body>
</html>

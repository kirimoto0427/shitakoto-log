<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ã—ãŸã“ã¨ãƒ­ã‚°</title>

<style>
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: #f7f9ff;
    margin: 0;
    padding: 16px;
    color: #333;
  }

  h1 {
    margin-top: 0;
  }

  .card {
    background: #fff;
    border-radius: 16px;
    padding: 16px;
    margin-bottom: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  }

  .categories button,
  .presets button,
  .add-btn {
    border: none;
    border-radius: 999px;
    padding: 10px 14px;
    margin: 4px;
    background: #eef2ff;
    color: #3b5cff;
    font-size: 14px;
  }

  .categories button.active {
    background: #3b5cff;
    color: #fff;
  }

  input {
    width: 70%;
    padding: 10px;
    border-radius: 999px;
    border: 1px solid #ddd;
  }

  .log-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
  }

  .delete-btn {
    border: none;
    background: none;
    color: #999;
  }
</style>
</head>

<body>

<h1>ğŸŸ¡ ã—ãŸã“ã¨ãƒ­ã‚°</h1>

<!-- â˜… æ—¥ä»˜è¡¨ç¤ºï¼ˆã“ã‚ŒãŒç„¡ã‹ã£ãŸã®ãŒåŸå› ï¼‰ -->
<div id="todayDate" style="margin-bottom:12px;color:#666;"></div>

<div class="card categories" id="categories"></div>

<div class="card presets" id="presets"></div>

<div class="card">
  <input id="customInput" placeholder="ä¾‹ï¼šã”é£¯ã€è–¬ã€æ´—é¡” ãªã©">
  <button class="add-btn" id="customAddBtn">è¿½åŠ </button>
  <div style="font-size:12px;color:#888;margin-top:6px;">
    â€» è¿½åŠ ã—ãŸæ–‡å­—ã¯ã€Œä»Šé¸ã‚“ã§ã‚‹ã‚«ãƒ†ã‚´ãƒªã€ã«è¨˜éŒ²ã•ã‚Œã¾ã™
  </div>
</div>

<div class="card">
  <h3>ä»Šæ—¥ã®ãƒ­ã‚°</h3>
  <div id="logList"></div>
</div>

<script>
/* ===== ãƒ‡ãƒ¼ã‚¿ ===== */
const categories = ["å®¶äº‹", "è²·ã„ç‰©", "é€£çµ¡", "å¤–å‡º", "ãã®ä»–"];

const presets = {
  å®¶äº‹: ["æ´—æ¿¯", "æ–™ç†", "ç‰‡ä»˜ã‘"],
  è²·ã„ç‰©: ["ã‚¹ãƒ¼ãƒ‘ãƒ¼", "ãƒ‰ãƒ©ãƒƒã‚°ã‚¹ãƒˆã‚¢", "ã‚³ãƒ³ãƒ“ãƒ‹", "ãƒãƒƒãƒˆæ³¨æ–‡"],
  é€£çµ¡: ["é›»è©±", "LINE", "ãƒ¡ãƒ¼ãƒ«"],
  å¤–å‡º: ["é€šé™¢", "æ•£æ­©"],
  ãã®ä»–: ["ã”é£¯", "è–¬", "æ´—é¡”"]
};

let currentCategory = "å®¶äº‹";
let logs = JSON.parse(localStorage.getItem("logs") || "[]");

/* ===== æ—¥ä»˜è¡¨ç¤º ===== */
const todayEl = document.getElementById("todayDate");
const d = new Date();
const dateText = d.toLocaleDateString("ja-JP", {
  year: "numeric",
  month: "2-digit",
  day: "2-digit",
  weekday: "short"
});
todayEl.textContent = `æ—¥ä»˜ï¼š${dateText}`;

/* ===== æç”» ===== */
function renderCategories() {
  const el = document.getElementById("categories");
  el.innerHTML = "";
  categories.forEach(c => {
    const b = document.createElement("button");
    b.textContent = c;
    if (c === currentCategory) b.classList.add("active");
    b.onclick = () => {
      currentCategory = c;
      renderCategories();
      renderPresets();
    };
    el.appendChild(b);
  });
}

function renderPresets() {
  const el = document.getElementById("presets");
  el.innerHTML = "";
  presets[currentCategory].forEach(p => {
    const b = document.createElement("button");
    b.textContent = p;
    b.onclick = () => addLog(p);
    el.appendChild(b);
  });
}

function renderLog() {
  const el = document.getElementById("logList");
  el.innerHTML = "";
  logs.forEach((l, i) => {
    const div = document.createElement("div");
    div.className = "log-item";
    div.innerHTML = `
      <span>${l.text}ï¼ˆ${l.category}ãƒ»${l.time}ï¼‰</span>
      <button class="delete-btn" onclick="removeLog(${i})">å‰Šé™¤</button>
    `;
    el.appendChild(div);
  });
}

/* ===== è¿½åŠ ãƒ»å‰Šé™¤ ===== */
function addLog(text) {
  const time = new Date().toLocaleTimeString("ja-JP", {
    hour: "2-digit",
    minute: "2-digit"
  });
  logs.unshift({ text, category: currentCategory, time });
  localStorage.setItem("logs", JSON.stringify(logs));
  renderLog();
}

function removeLog(i) {
  logs.splice(i, 1);
  localStorage.setItem("logs", JSON.stringify(logs));
  renderLog();
}

/* ===== ã‚«ã‚¹ã‚¿ãƒ å…¥åŠ› ===== */
document.getElementById("customAddBtn").onclick = () => {
  const input = document.getElementById("customInput");
  const text = input.value.trim();
  if (!text) return;
  addLog(text);
  input.value = "";
};

document.getElementById("customInput").addEventListener("keydown", e => {
  if (e.key === "Enter") document.getElementById("customAddBtn").click();
});

/* ===== åˆæœŸè¡¨ç¤º ===== */
renderCategories();
renderPresets();
renderLog();
</script>

</body>
</html>
